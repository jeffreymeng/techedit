<!DOCTYPE html>
<html lang="en">

<head>

	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<meta name="description" content="">
	<meta name="author" content="">

	<title>Coming Soon - Techedit</title>

	<!-- Bootstrap core CSS -->
	<link href="/css/bootstrap.min.css" rel="stylesheet">

	<!-- Custom fonts for this template -->
	<link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:200,200i,300,300i,400,400i,600,600i,700,700i,900,900i" rel="stylesheet">
	<link href="https://fonts.googleapis.com/css?family=Merriweather:300,300i,400,400i,700,700i,900,900i" rel="stylesheet">
	<link href="/font-awesome/css/font-awesome.min.css" rel="stylesheet">

	<!-- Custom styles for this template -->
	<link href="/css/coming-soon.min.css" rel="stylesheet">
	<script src="/font-awesome/js/fa-brands.min.js"></script>
	<script src="/font-awesome/js/fa-regular.min.js"></script>
	<script src="/font-awesome/js/fontawesome.min.js"></script>
	<style>
		.overlay {
			background: url("/img/coming-soon-bg.png") no-repeat center center fixed;
			-webkit-background-size: cover;
			-moz-background-size: cover;
			-o-background-size: cover;
			background-size: cover;
		}

		.hidden {
			display: none;
		}

		.invisible {
			visibility: hidden;
		}
	</style>
</head>

<body>

	<div class="overlay"></div>

	<div class="masthead">
		<div class="masthead-bg"></div>
		<div class="container h-100">
			<div class="row h-100">
				<div class="col-12 my-auto">
					<div class="masthead-content text-white py-5 py-md-0">
						<h1 class="mb-3">Techedit Alpha</h1>
						<p class="mb-5">Techedit is currently in a private alpha. If you have already registered with an alpha key, you can log in here. Our target launch date is <strong>March 2018</strong>.</p>
						<p id="email-switch-box" class="invisible text-muted"><a href="#">Not <span class="email"></span>?</a></p>
						<div class="input-group input-group-newsletter" id="email-box">
							<input type="text" class="form-control" placeholder="Email" id="email">
							<span class="input-group-btn">
			                	<button class="btn btn-secondary" type="button" id="email-next">Next</button>
			                </span>
						</div>

						<div class="input-group input-group-newsletter hidden" id="password-box">
							<input type="password" class="form-control" placeholder="Password" id="password">
							<span class="input-group-btn">
			                	<button class="btn btn-secondary" type="button" id="password-next">Enter!</button>
			                </span>
						</div>
						<div class="invisible" id="error-box">
							<hr>
							<p class="text-danger" id="error-text">Password Incorrect</p>
						</div>
						<br>
						<a href="/">
							<p class="text-muted">Back to home page</p>
						</a>

					</div>
				</div>
			</div>
		</div>
	</div>

	<div class="social-icons">
		<ul class="list-unstyled text-center mb-0">
			<li class="list-unstyled-item">
				<a href="mailto:techeditbeta@jeffkmeng.com">
            <i class="far fa-envelope"></i>
          </a>
			</li>

		</ul>
	</div>

	<!-- Bootstrap core JavaScript -->
	<script src="/js/jquery.min.js"></script>
	<script src="/js/bootstrap.bundle.min.js"></script>

	<script>
		/* global $ */
		var onPasswordStep = false; //wether the email textbox or the password text box is shown

		$("#email-next").click(emailNext);
		$("#password-next").click(passwordNext);
		$("#email-switch-box").click(function() {
			onPasswordStep = false;
			$("#password").val("");
			$("#email-switch-box").addClass("invisible");
			$("#password-box").addClass("hidden");
			$("#email-box").removeClass("hidden");

		});

		function emailNext() {
			if (!(/[a-zA-Z0-9].+/.test(("#email").val))) { //email does not contain any charcters
				$("#error-text").html("Error: The email field should not be empty");
				$("#error-box").removeClass("invisible");
			}
			else {
				onPasswordStep = true;
				$("#email-box").addClass("hidden");
				$(".email").html($("#email").val());
				$("#email-switch-box").removeClass("invisible");
				$("#password-box").removeClass("hidden");
			}

		}

		function passwordNext() {
			//TODO: authenticate
			console.log("Email:");
			console.log($("#email").val());
			console.log("Password:");
			console.log($("#password").val());
			//validate

			//if password is wrong:
			onPasswordStep = false;
			$("#password").val("");
			$("#password-box").addClass("hidden");
			$("#password-box").removeClass("hidden");
			$("#error-text").html("Error: Email/Password combination incorrect");
			$("#error-box").removeClass("invisible");
		}
		}
		$("document").keypress(function(e) {
			if (e.which == 13) {
				if (onPasswordStep) {
					passwordNext();
				}
				else {
					emailNext();
				}
			}
		});
	</script>

</body>

</html>
